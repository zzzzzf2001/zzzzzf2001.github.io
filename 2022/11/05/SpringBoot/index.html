<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>SpringBoot | MyBlog</title><meta name="author" content="学不动学不懂学步冻"><meta name="copyright" content="学不动学不懂学步冻"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="SpringBoot背景应用：巴拉巴拉巴拉一堆，看官方文档去 SpringBoot2入门首先先改一下maven仓库的配置： 将镜像改成 1234567891011121314151617181920212223&lt;mirrors&gt;      &lt;mirror&gt;        &lt;id&gt;nexus-aliyun&lt;&#x2F;id&gt;        &lt;mirrorO">
<meta property="og:type" content="article">
<meta property="og:title" content="SpringBoot">
<meta property="og:url" content="http://example.com/2022/11/05/SpringBoot/index.html">
<meta property="og:site_name" content="MyBlog">
<meta property="og:description" content="SpringBoot背景应用：巴拉巴拉巴拉一堆，看官方文档去 SpringBoot2入门首先先改一下maven仓库的配置： 将镜像改成 1234567891011121314151617181920212223&lt;mirrors&gt;      &lt;mirror&gt;        &lt;id&gt;nexus-aliyun&lt;&#x2F;id&gt;        &lt;mirrorO">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img.hasdsd.cn/imgQQ%E6%88%AA%E5%9B%BE20230307190709.png">
<meta property="article:published_time" content="2022-11-04T16:00:00.000Z">
<meta property="article:modified_time" content="2023-03-14T13:36:02.254Z">
<meta property="article:author" content="学不动学不懂学步冻">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img.hasdsd.cn/imgQQ%E6%88%AA%E5%9B%BE20230307190709.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2022/11/05/SpringBoot/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'SpringBoot',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-03-14 21:36:02'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://avatars.githubusercontent.com/u/118332734?v=4" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">14</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url('https://img.hasdsd.cn/imgQQ截图20230307190709.png')"><nav id="nav"><span id="blog-info"><a href="/" title="MyBlog"><img class="site-icon" src="https://img.hasdsd.cn/imgfb2ae9dbdd3daa91c227a2134d61fa92ae2c861c_full.jpg"/><span class="site-name">MyBlog</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">SpringBoot</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-11-04T16:00:00.000Z" title="发表于 2022-11-05 00:00:00">2022-11-05</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-03-14T13:36:02.254Z" title="更新于 2023-03-14 21:36:02">2023-03-14</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="SpringBoot"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="SpringBoot"><a href="#SpringBoot" class="headerlink" title="SpringBoot"></a>SpringBoot</h1><h1 id="背景应用："><a href="#背景应用：" class="headerlink" title="背景应用："></a>背景应用：</h1><p>巴拉巴拉巴拉一堆，看官方文档去</p>
<h1 id="SpringBoot2入门"><a href="#SpringBoot2入门" class="headerlink" title="SpringBoot2入门"></a>SpringBoot2入门</h1><p>首先先改一下maven仓库的配置：</p>
<p>将镜像改成</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirrors</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span>&gt;</span>nexus-aliyun<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>Nexus aliyun<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">mirrors</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">id</span>&gt;</span>jdk-1.8<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">activeByDefault</span>&gt;</span>true<span class="tag">&lt;/<span class="name">activeByDefault</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">jdk</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">jdk</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">maven.compiler.compilerVersion</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.compilerVersion</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>然后开始进行编码</p>
<p>向创建一个Maven项目将依赖导入：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.4.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>然后创建文件夹形式</p>
<p><img src="C:\Users\15754\AppData\Roaming\Typora\typora-user-images\image-20220926135712125.png" alt="image-20220926135712125"></p>
<p>MainApplication为负责启动Springboot的主程序：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zhang.boot;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@SpringbootApplication</span>这是一个Springboot应用</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainApplication</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span>&#123;</span><br><span class="line">    SpringApplication.run(MainApplication.class,args);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>@SpringBootApplication注解为标记该类为SpringBoot启动类</p>
<p>然后我们创建一个controller层</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zhang.boot.controller;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloController</span> &#123;</span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/hello&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">handler01</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;helloSpringbooot2&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>@RestController作用与 ResponeBody 加Controller一致</p>
<p>项目启动</p>
<p><img src="https://img.hasdsd.cn/imgimage-20220926140307894.png" alt="image-20220926140307894"></p>
<p><img src="https://img.hasdsd.cn/imgimage-20220926140330940.png" alt="image-20220926140330940"></p>
<h2 id="1、SpringBoot的Maven依赖管理"><a href="#1、SpringBoot的Maven依赖管理" class="headerlink" title="1、SpringBoot的Maven依赖管理"></a>1、SpringBoot的Maven依赖管理</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.4.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>以此依赖坐标为例</p>
<p><parent>为父坐标，   <artifactId>spring-boot-starter-parent</artifactId>此标签描述为一个SpringBoot项目的所需依赖的集合，该类规定了这个依赖内所导入的包的版本号， </p>
<p>当导入依赖时，可直接输入所导包的依赖，无需输入版本号</p>
<p><img src="https://img.hasdsd.cn/imgimage-20220927001414562.png" alt="image-20220927001414562"></p>
<p>倘若我们不使用该父类所提供的一些依赖的版本，我们可以自己设置版本</p>
<p>以mysql-Connector-java包为例</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mysql.version</span>&gt;</span>8.0.20<span class="tag">&lt;/<span class="name">mysql.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>刷新maven即可生成8.0.20版本的mysql-Connector-java.jar</p>
<h2 id="2、SpringBoot自动配置"><a href="#2、SpringBoot自动配置" class="headerlink" title="2、SpringBoot自动配置"></a>2、SpringBoot自动配置</h2><ul>
<li><p>自动配置好Tomcat</p>
<ul>
<li>引入Tomcat依赖</li>
<li>配置Tomcat</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.4.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--引入一个WEB项目的环境依赖--&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>自动配置好了SpringMVC</p>
<ul>
<li>引入SpringMVC全套组件</li>
<li>自动配置好SpringMVC的常用组件（功能）</li>
</ul>
</li>
<li><p>自动配好了WEB的常见功能 如：乱码问题</p>
<ul>
<li>SpringBoot帮我们配置好了所有WEB开发的常见场景</li>
</ul>
</li>
<li><p>默认包的结构</p>
<ul>
<li><p>主程序所在的包及其下边所有子包下面的组件都会被默认扫描进来</p>
</li>
<li><p>例如：</p>
<p><img src="https://img.hasdsd.cn/imgimage-20220927005731252.png" alt="image-20220927005731252"></p>
<p>MainApplication为此项目的主程序，他所在的包为boot包，controller包也在boot包下，若在demo包下创建其他项目，则不受此SpringBoot的项目约束，</p>
<p><strong>若非要在其他包下创建模块别被该SpringBoot所约束，则需要在MainApplication类下的注解@SpringBootApplication中添加属性（scanBasePackageClasses &#x3D; “xxx.xxx.xxx”）或者用ComponentScan指定路径</strong></p>
</li>
<li><p>无需之前的包扫描配置</p>
</li>
</ul>
</li>
<li><p>各种配置拥有默认值</p>
<ul>
<li>默认配置最终都是映射到MutippartProperties</li>
<li>配置文件的值最终会绑定到每个类上，这个类会在容器中创建对象</li>
</ul>
</li>
<li><p>按需加载所有配置项</p>
<ul>
<li><p>引入了那些场景这个场景的自动配置才会开启</p>
</li>
<li><p>SpringBoot所有的自动配置功能都在Spring-boot-autoconfigure</p>
</li>
<li><p>在我们的Maven配置中我们导入的是web的开发启动器</p>
</li>
<li><p>&#96;&#96;&#96;xml</p>
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-web</artifactId>
</dependency>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  如果我们要是用批处理开发启动器的话，我们需要在配置中再加入该启动器的依赖坐标</span><br><span class="line"></span><br><span class="line">  在Spring-boot-autoconfigure包下我们可以看到批处理启动器没被 放入maven时的源码</span><br><span class="line"></span><br><span class="line">  ![image-20220927012517361](https://img.hasdsd.cn/imgimage-20220927012517361.png)</span><br><span class="line"></span><br><span class="line">尚且爆红</span><br><span class="line"></span><br><span class="line">当我们导入依赖坐标：</span><br><span class="line"></span><br><span class="line">```xml</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><img src="https://img.hasdsd.cn/imgimage-20220927012600179.png" alt="image-20220927012600179"></p>
<p>在我们的启动类（主类）MainApplication中我们执行的SpringApplication.run方法返回的是一个ConfigurableApplicationContext类，其原理相当于我们拿到一了该项目的IOC，我们可以调用方法获取所有配置项如下图所示</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zhang.boot;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ConfigurableApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@SpringbootApplication</span>这是一个Springboot应用</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainApplication</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">ConfigurableApplicationContext</span> <span class="variable">run</span> <span class="operator">=</span> SpringApplication.run(MainApplication.class, args);</span><br><span class="line">    String[] beanDefinitionNames = run.getBeanDefinitionNames();</span><br><span class="line">    <span class="keyword">for</span>(String name:beanDefinitionNames)&#123;</span><br><span class="line">        System.out.println(name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>执行结果图下图所示</p>
<p>SpringBoot启动图</p>
</li>
</ul>
<p><img src="https://img.hasdsd.cn/imgimage-20220927004742114.png" alt="image-20220927004742114"></p>
<p>输出结果为<img src="https://img.hasdsd.cn/imgimage-20220927004908627.png" alt="image-20220927004908627"></p>
<p>……</p>
<p>输出结果中都为SpringBoot所默认配置的包名类名</p>
<h2 id="3、SpringBoot容器功能"><a href="#3、SpringBoot容器功能" class="headerlink" title="3、SpringBoot容器功能"></a>3、SpringBoot容器功能</h2><p>@Configuration（proxyBeanMethods &#x3D; true）</p>
<p>保证每个@Bean方法被调用多少次返回的组件都是单实例的</p>
<p>@Configuration（proxyBeanMethods &#x3D; true）</p>
<p>每个@Bean方法被调用多少次返回的组件都是新创建的</p>
<p>@Import({User.class, DBHelper.class})</p>
<ul>
<li><pre><code> 给容器中自动创建出这两个类型的组件、默认组件的名字就是全类名
</code></pre>
</li>
</ul>
<p>条件装配：@ConditionalOnBean(name&#x3D;”XXX”)将此标签放入某个组件上时，若容器中有XXX则就讲该组件加入容器</p>
<p>@ConditionalOnMissingBean（name&#x3D;”XXX”）将此标签放入某个组件上时，若容器中没有XXX则就讲该组件加入容器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainApplication</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String []args)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">ConfigurableApplicationContext</span> <span class="variable">run</span> <span class="operator">=</span> SpringApplication.run(MainApplication.class, args);</span><br><span class="line">    String[] beanDefinitionNames = run.getBeanDefinitionNames();</span><br><span class="line">    <span class="keyword">for</span>(String name:beanDefinitionNames)&#123;</span><br><span class="line">        System.out.println(name);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">user01</span> <span class="operator">=</span> run.containsBean(<span class="string">&quot;user01&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;容器中User01组件：&quot;</span>+user01);</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">tom</span> <span class="operator">=</span> run.containsBean(<span class="string">&quot;tom&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;容器中Tom组件&quot;</span>+tom);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>run.containsBean（“XXX”）表示为容器中是否有组件XXX</p>
<h3 id="底层的注解："><a href="#底层的注解：" class="headerlink" title="底层的注解："></a>底层的注解：</h3><p>@ConfigurationProperties（prefix&#x3D;”xxxx”）</p>
<p>当我们在配置文件中实现对容器中某个组件的注入时，首先该注解会搜寻配置文件中的某条注入的前缀和prefix一致，然后实现属性的注入</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 只有在容器中的组件，才能拥有SpringBoot提供的强大功能</span></span><br><span class="line"><span class="comment"> * **/</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@ToString</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;mycar&quot;)</span></span><br><span class="line"><span class="comment">//从配置中寻找属性前缀mycar然后实现注入</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String brand;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> price;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>@EnableConfigurationProperties（XX.class）</p>
<p>如果我们要实现属性的注入首先要先将该类（XX）放入容器中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Import(&#123;User.class, DBHelper.class&#125;)</span></span><br><span class="line"><span class="meta">@Configuration(proxyBeanMethods = true)</span></span><br><span class="line"><span class="meta">@EnableConfigurationProperties(Car.class)</span></span><br><span class="line"><span class="comment">//1.开启Car的配置绑定功能</span></span><br><span class="line"><span class="comment">//2.把Car这个组件自动注册到容器中</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean(&quot;tom&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Pet <span class="title function_">Tomcatpet</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Pet</span>(<span class="string">&quot;tomcat&quot;</span>,<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="meta">@ConditionalOnBean(name=&quot;tom&quot;)</span><span class="comment">//存在tom组件才能添加user01组件</span></span><br><span class="line">    <span class="meta">@Bean</span> <span class="comment">//给容器中添加组件，以方法名作为组件的id，返回类型就是组件类型，返回的值就是组件在容器中的实例</span></span><br><span class="line">    <span class="keyword">public</span> User <span class="title function_">user01</span><span class="params">()</span>&#123;</span><br><span class="line">        User user1=<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;张锋&quot;</span>,<span class="number">18</span>);</span><br><span class="line">        user1.setPet(Tomcatpet());</span><br><span class="line">        <span class="keyword">return</span> user1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Controller层代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line">Car car;</span><br><span class="line"><span class="meta">@RequestMapping(&quot;/car&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Car <span class="title function_">car</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> car;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>配置文件</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mycar.brand</span>=<span class="string">nono</span></span><br><span class="line"><span class="attr">mycar.price</span>=<span class="string">150000</span></span><br></pre></td></tr></table></figure>

<p>输出结果</p>
<p><img src="C:\Users\15754\AppData\Roaming\Typora\typora-user-images\image-20220928144636586.png" alt="image-20220928144636586"></p>
<h2 id="4、-SpringBootApplication"><a href="#4、-SpringBootApplication" class="headerlink" title="4、@SpringBootApplication"></a>4、@SpringBootApplication</h2><p>@SpringBootApplication表示该类时SpringBoot的主类，它由三个注解组成：@SpringBootConfiguration、@ComponentScan、@EnableAutoConfiguration</p>
<ol>
<li><p>@SpringBootConfiguration:代表当前时一个配置类</p>
</li>
<li><p>@ComponentScan：指定扫描哪些Spring注解</p>
</li>
<li><p>@EnableAtuoConfiguration它由以下注解组成：</p>
</li>
<li><p>&#96;&#96;&#96;java<br>@AutoConfigurationPackage<br>@Import(AutoConfigurationImportSelector.class)<br>public @interface EnableAutoConfiguration {}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">@AutoConfiguratnionPackage:自动配置包它由以下注解组成</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line">@Import(AutoConfigurationPackages.Registrar.class)//给容器中导入一个组件</span><br><span class="line">public @interface AutoConfigurationPackage &#123;&#125;</span><br><span class="line">//利用Register导入一系列组件</span><br><span class="line">//将指定的一个包下的组件导入进来？MainApplication所在包下的Bean全部注册</span><br></pre></td></tr></table></figure></li>
</ol>
<p>​	@Import(AutoConfigurationImportSelector.class)</p>
<p>​	AutoConfigurationImportSelector类中有一个方法：selectImport</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、getAutoConfigurationEntry(annotationMetadata);<span class="comment">//利用容器中批量导入一些组件</span></span><br><span class="line"><span class="number">2</span>、List&lt;String&gt; configurations = getCandidateConfigurations(annotationMetadata, attributes);<span class="comment">//获取到所有需要导入到容器中的配置类</span></span><br><span class="line"><span class="number">3</span>、Map&lt;String, List&lt;String&gt;&gt; <span class="title function_">loadSpringFactories</span><span class="params">(<span class="meta">@Nullable</span> ClassLoader classLoader)</span><span class="comment">//获取所有需要导入的组件</span></span><br><span class="line"><span class="number">4</span>、从<span class="string">&quot;META-INF/spring.factories&quot;</span>位置来加载一个文件</span><br><span class="line">    默认扫描当前系统中<span class="string">&quot;META-INF/spring.factories&quot;</span>位置的所有文件	spring-boot-<span class="number">2.3</span><span class="number">.4</span>.RELEASE.jar中也有META-INF.spring.factories</span><br></pre></td></tr></table></figure>

<p>SpringBoot在启动的时候，按需开启自动配置项</p>
<p><img src="https://img.hasdsd.cn/imgimage-20220929004440051.png" alt="image-20220929004440051"></p>
<p>比如AOP包下，@ConditionalOnClass（Advice.class）当容器中存在Advice类的时候才加载AOP组件</p>
<h3 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h3><ul>
<li>Spring先加载所有的自动配置类</li>
<li>每个自动；配置类按照条件进行生效，默认的配置都会绑定配置文件的值。XXXXXproperties里面拿。XXXXproperties和配置文件进行了绑定</li>
<li>生效的配置类，就会给容器中装配很多的组件</li>
<li>只要容器中有这些组件，相当于这些功能就有了</li>
<li>只要用户有自己配置的，就以用户的优先</li>
<li>定制化配置<ul>
<li>用户直接自己@Bean替代底层组件</li>
<li>用户去看这个组件时获取的的配置文件的什么值就去修改</li>
</ul>
</li>
</ul>
<p>XXXXXAutoConfiguration–&gt;组件—-&gt;XXXXProperties里面拿值—–&gt;application.properties</p>
<h2 id="5、yaml"><a href="#5、yaml" class="headerlink" title="5、yaml"></a>5、yaml</h2><p>​	YAML 入门教程</p>
<h3 id="分类-编程技术"><a href="#分类-编程技术" class="headerlink" title="分类 编程技术"></a><em>分类</em> <a target="_blank" rel="noopener" href="https://www.runoob.com/w3cnote_genre/code">编程技术</a></h3><p>YAML 是 “YAML Ain’t a Markup Language”（YAML 不是一种标记语言）的递归缩写。在开发的这种语言时，YAML 的意思其实是：”Yet Another Markup Language”（仍是一种标记语言）。</p>
<h3 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h3><ul>
<li><p>大小写敏感</p>
</li>
<li><p>使用缩进表示层级关系</p>
</li>
<li><p>缩进不允许使用tab，只允许空格</p>
</li>
<li><p>缩进的空格数不重要，只要相同层级的元素左对齐即可</p>
</li>
<li><p>‘#’表示注释</p>
</li>
<li><p>对象键值对使用冒号结构表示 <strong>key: value</strong>，冒号后面要加一个空格。</p>
<p>也可以使用 **key:{key1: value1, key2: value2, …}**。</p>
<p>还可以使用缩进表示层级关系；</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">key: </span><br><span class="line">    child-key: value</span><br><span class="line">    child-key2: value2</span><br></pre></td></tr></table></figure>

<p>较为复杂的对象格式，可以使用问号加一个空格代表一个复杂的 key，配合一个冒号加一个空格代表一个 value：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">?  </span><br><span class="line">    - complexkey1</span><br><span class="line">    - complexkey2</span><br><span class="line">:</span><br><span class="line">    - complexvalue1</span><br><span class="line">    - complexvalue2</span><br></pre></td></tr></table></figure>

<p>意思即对象的属性是一个数组 [complexkey1,complexkey2]，对应的值也是一个数组 [complexvalue1,complexvalue2]</p>
<h3 id="YAML-数组"><a href="#YAML-数组" class="headerlink" title="YAML 数组"></a>YAML 数组</h3><p>以 <strong>-</strong> 开头的行表示构成一个数组：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- A</span><br><span class="line">- B</span><br><span class="line">- C</span><br></pre></td></tr></table></figure>

<p>YAML 支持多维数组，可以使用行内表示：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">key: [value1, value2, ...]</span><br></pre></td></tr></table></figure>

<p>数据结构的子成员是一个数组，则可以在该项下面缩进一个空格。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-</span><br><span class="line"> - A</span><br><span class="line"> - B</span><br><span class="line"> - C</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="6、web开发"><a href="#6、web开发" class="headerlink" title="6、web开发"></a>6、web开发</h2><h3 id="静态规则与定制化"><a href="#静态规则与定制化" class="headerlink" title="静态规则与定制化"></a>静态规则与定制化</h3><ol>
<li><p>​	静态资源目录</p>
<ol>
<li><p>只要静态资源放到：static,public,resource,META-INF。访问时只需要加上根路径“&#x2F;”加上静态文件名即可完成访问</p>
<ul>
<li>原理：请求映射&#x2F;** 。当服务器收到浏览器请求时，先去找Controller层看能不能处理。如果能处理，直接返回，不能处理的所有请求都交给静态资源管理器，倘若静态资源能找到，直接返回，若静态资源也找不到则会爆404</li>
</ul>
</li>
<li><p>改变默认静态资源路径 </p>
</li>
<li><p>&#96;&#96;&#96;yaml<br>web:<br>  resources:<br>static-locations: classpath:&#x2F;love&#x2F;   #（你想要设置的默认静态资源访问路径，比如说love）<br>##要有一点注意，无论怎么修改默认静态资源路径，META-INF&#x2F;resources&#x2F;*下的静态资源依旧可以访问到</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">2. 静态资源访问前缀</span><br><span class="line"></span><br><span class="line">   1. 默认无前缀（“/**”）</span><br><span class="line"></span><br><span class="line">   2. ```yaml</span><br><span class="line">      spring:</span><br><span class="line">        mvc:</span><br><span class="line">          static-path-pattern: /resources/**  #表示访问默认静态资源访问访问前缀为/resources/**</span><br><span class="line">          								#要得到静态资源那么请求就应该是：当前项目+static-path-pattern</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h3 id="欢迎页支持"><a href="#欢迎页支持" class="headerlink" title="欢迎页支持"></a>欢迎页支持</h3><ul>
<li>静态资源路径下 index.html<ul>
<li>可以配置静态资源路径</li>
<li>但是不可以配置静态资源的访问前缀，否则导致index.html不能被默认访问</li>
</ul>
</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line"><span class="comment">#  mvc:</span></span><br><span class="line"><span class="comment">#    static-path-pattern: /res/**</span></span><br><span class="line">  <span class="attr">web:</span></span><br><span class="line">    <span class="attr">resources:</span></span><br><span class="line">      <span class="attr">static-locations:</span> <span class="string">classpath:/love/</span>   <span class="comment">#（你想要设置的默认静态资源访问路径，比如说love）</span></span><br></pre></td></tr></table></figure>

<ul>
<li>controller能处理&#x2F;index</li>
<li>若要修改浏览器的默认小图标如下图则需要将小图标的名称改为favicon.ico即可</li>
<li><img src="https://img.hasdsd.cn/imgimage-20221001150948554.png" alt="image-20221001150948554"></li>
</ul>
<h3 id="静态资源配置管理"><a href="#静态资源配置管理" class="headerlink" title="静态资源配置管理"></a>静态资源配置管理</h3><ul>
<li>springboot默认加载xxxAutoConfiguration类（该自动配置类）</li>
<li>SpringMVC功能自动配置类， WebMvcAutoConfiguration，生效</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@AutoConfiguration(</span></span><br><span class="line"><span class="meta">    after = &#123;DispatcherServletAutoConfiguration.class, TaskExecutionAutoConfiguration.class, ValidationAutoConfiguration.class&#125;</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="meta">@ConditionalOnWebApplication(</span></span><br><span class="line"><span class="meta">    type = Type.SERVLET</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="meta">@ConditionalOnClass(&#123;Servlet.class, DispatcherServlet.class, WebMvcConfigurer.class&#125;)</span></span><br><span class="line"><span class="meta">@ConditionalOnMissingBean(&#123;WebMvcConfigurationSupport.class&#125;)</span></span><br></pre></td></tr></table></figure>

<p>给容器中配置了什么</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration(</span></span><br><span class="line"><span class="meta">    proxyBeanMethods = false</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="meta">@Import(&#123;WebMvcAutoConfiguration.EnableWebMvcConfiguration.class&#125;)</span></span><br><span class="line"><span class="meta">@EnableConfigurationProperties(&#123;WebMvcProperties.class, WebProperties.class&#125;)</span></span><br><span class="line"><span class="meta">@Order(0)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">WebMvcAutoConfigurationAdapter</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span>, ServletContextAware &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>配置文件的相关属性和xxx进行绑定，WebMvcProperties&#x3D;springmvc和WebPropertiies&#x3D;springresources</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//有参构造器的所有值都要在容器中确定</span></span><br><span class="line"><span class="comment">//WebProperties webProperties获取sping.web绑定所有值的对象</span></span><br><span class="line"><span class="comment">//WebMvcProperties mvcProperties,获取sping.mvc绑定所有值的对象</span></span><br><span class="line"><span class="comment">//ListableBeanFactory beanFactory, spring的beanfactory（spring的容器）</span></span><br><span class="line"><span class="comment">//HttpMessageConverters ， 找到所有的HttpMessageConverters</span></span><br><span class="line"><span class="comment">//ResourceHandlerRegistrationCustomizer 找到资源处理器的自定义器</span></span><br><span class="line"><span class="comment">//dispatcherServletPath, 它所能处理的路径</span></span><br><span class="line"><span class="comment">//ServletRegistrationBean 给应用注册Servelet、Filter。。。。</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">WebMvcAutoConfigurationAdapter</span><span class="params">(WebProperties webProperties, WebMvcProperties mvcProperties, ListableBeanFactory beanFactory, ObjectProvider&lt;HttpMessageConverters&gt; messageConvertersProvider, ObjectProvider&lt;WebMvcAutoConfiguration.ResourceHandlerRegistrationCustomizer&gt; resourceHandlerRegistrationCustomizerProvider, ObjectProvider&lt;DispatcherServletPath&gt; dispatcherServletPath,</span></span><br><span class="line"><span class="params">ObjectProvider&lt;ServletRegistrationBean&lt;?&gt;&gt; servletRegistrations)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.resourceProperties = webProperties.getResources();</span><br><span class="line">    <span class="built_in">this</span>.mvcProperties = mvcProperties;</span><br><span class="line">    <span class="built_in">this</span>.beanFactory = beanFactory;</span><br><span class="line">    <span class="built_in">this</span>.messageConvertersProvider = messageConvertersProvider;</span><br><span class="line">    <span class="built_in">this</span>.resourceHandlerRegistrationCustomizer = (WebMvcAutoConfiguration.ResourceHandlerRegistrationCustomizer)resourceHandlerRegistrationCustomizerProvider.getIfAvailable();</span><br><span class="line">    <span class="built_in">this</span>.dispatcherServletPath = dispatcherServletPath;</span><br><span class="line">    <span class="built_in">this</span>.servletRegistrations = servletRegistrations;</span><br><span class="line">    <span class="built_in">this</span>.mvcProperties.checkConfiguration();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>资源处理默认规则</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry registry)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">this</span>.resourceProperties.isAddMappings()) &#123;<span class="comment">//首先拿到我们的静态资源配置文件，判断是否启用了所有的静态资源，如果为false则会在debug中输出Default resource handling disabled</span></span><br><span class="line">        logger.debug(<span class="string">&quot;Default resource handling disabled&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.addResourceHandler(registry, <span class="string">&quot;/webjars/**&quot;</span>, <span class="string">&quot;classpath:/META-INF/resources/webjars/&quot;</span>);</span><br><span class="line">        <span class="built_in">this</span>.addResourceHandler(registry, <span class="built_in">this</span>.mvcProperties.getStaticPathPattern(), (registration) -&gt; &#123;</span><br><span class="line">            registration.addResourceLocations(<span class="built_in">this</span>.resourceProperties.getStaticLocations());</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">this</span>.servletContext != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="type">ServletContextResource</span> <span class="variable">resource</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServletContextResource</span>(<span class="built_in">this</span>.servletContext, <span class="string">&quot;/&quot;</span>);</span><br><span class="line">                registration.addResourceLocations(<span class="keyword">new</span> <span class="title class_">Resource</span>[]&#123;resource&#125;);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>禁用所有静态资源</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line"> <span class="attr">web:</span></span><br><span class="line">   <span class="attr">resources:</span></span><br><span class="line">     <span class="attr">add-mappings:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<h3 id="请求参数处理"><a href="#请求参数处理" class="headerlink" title="请求参数处理"></a>请求参数处理</h3><p>倘若我们要执行前端的请求处理例如GET请求，POST请求，DELETE请求或PUT请求时，我们对应的Controller 层需要写成Rest风格</p>
<p>所以我们的Controller层代码为：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value = &quot;/user&quot;,method = RequestMethod.GET)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">getUser</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;GET-张三&quot;</span>;</span><br><span class="line"> &#125;</span><br><span class="line"><span class="meta">@RequestMapping(value = &quot;/user&quot;,method = RequestMethod.POST)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">saveUser</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;POST-张三&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@RequestMapping(value = &quot;/user&quot;,method = RequestMethod.DELETE)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">deleteUser</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;DELETE-张三&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@RequestMapping(value = &quot;/user&quot;,method = RequestMethod.PUT)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">putUser</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;PUT-张三&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>问题出来了，请求映射都是”&#x2F;user”，怎么区分所要映射的值呢，method&#x3D;RequstMethod.XXX(PUT,POST,GET,DELETE)</p>
<p>但是同样的我们发现当前端请求类型为PUT,POST,GET,DELETE时，我们只能接收到”GET-张三”或”POST-张三”，无法输出其他两个</p>
<p>这时候我们需要隐藏请求（以表单删除为例）</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/user&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;_method&quot;</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">value</span>=<span class="string">&quot;DELETE&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=<span class="string">&quot;REST-DELETE提交&quot;</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>同样的我们需要在application.yaml里面添加参数：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line"> <span class="attr">mvc:</span></span><br><span class="line">   <span class="attr">hiddenmethod:</span></span><br><span class="line">     <span class="attr">filter:</span></span><br><span class="line">       <span class="attr">enabled:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>启用我们的隐藏请求方法</p>
<p>如何设置隐藏的请求方法名称：</p>
<p>首先我们需要找到类HiddenHttpMethodFilter，其中就有方法setMethodParam,我们输入参数就可以改变隐藏请求方法名称</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> HiddenHttpMethodFilter <span class="title function_">hiddenHttpMethodFilter</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">HiddenHttpMethodFilter</span> <span class="variable">methodFilter</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">HiddenHttpMethodFilter</span>();</span><br><span class="line">        methodFilter.setMethodParam(<span class="string">&quot;_m&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> methodFilter;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="请求映射原理"><a href="#请求映射原理" class="headerlink" title="请求映射原理"></a>请求映射原理</h3><p><img src="https://img.hasdsd.cn/imgimage-20221008232208366.png" alt="image-20221008232208366"></p>
<p>springMVC分析都从DispatcherServlet的doDispatch</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doDispatch</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">   <span class="type">HttpServletRequest</span> <span class="variable">processedRequest</span> <span class="operator">=</span> request;</span><br><span class="line">   <span class="type">HandlerExecutionChain</span> <span class="variable">mappedHandler</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">   <span class="type">boolean</span> <span class="variable">multipartRequestParsed</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">   <span class="type">WebAsyncManager</span> <span class="variable">asyncManager</span> <span class="operator">=</span> WebAsyncUtils.getAsyncManager(request);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="type">ModelAndView</span> <span class="variable">mv</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">      <span class="type">Exception</span> <span class="variable">dispatchException</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">         processedRequest = checkMultipart(request);</span><br><span class="line">         multipartRequestParsed = (processedRequest != request);</span><br><span class="line"></span><br><span class="line">         <span class="comment">// 找到当前请求是由那个Handler(Controller方法)处理</span></span><br><span class="line">         mappedHandler = getHandler(processedRequest);</span><br><span class="line">          <span class="comment">//HandlerMapping	处理器映射</span></span><br></pre></td></tr></table></figure>

<p><img src="https://img.hasdsd.cn/imgimage-20221009001157528.png" alt="image-20221009001157528"></p>
<p>RequestMappingHandlerMapping保存了所有的RequestMapping和HandlerMapping的映射规则</p>
<p>详情见<a target="_blank" rel="noopener" href="https://blog.csdn.net/wyg1973017714/article/details/116380588">(44条消息) 浅析Spring Boot请求映射原理_风在哪的博客-CSDN博客</a></p>
<p><img src="https://img.hasdsd.cn/img6e3f080f79740c4b141d06a901e0dd2c.png" alt="img"></p>
<h3 id="常用参数注解使用"><a href="#常用参数注解使用" class="headerlink" title="常用参数注解使用"></a>常用参数注解使用</h3><h4 id="PathVariable-路径变量"><a href="#PathVariable-路径变量" class="headerlink" title="@PathVariable(路径变量)"></a>@PathVariable(路径变量)</h4><p>在运用rest风格中，可以获取路径中的变量例如</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/car/&#123;id&#125;/owner/&#123;username&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Map&lt;String,Object&gt;  <span class="title function_">getCar</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Integer id,</span></span><br><span class="line"><span class="params">                                  <span class="meta">@PathVariable(&quot;username&quot;)</span> String name,</span></span><br><span class="line"><span class="params">                                  <span class="meta">@PathVariable</span> Map&lt;String,String&gt; pv </span></span><br><span class="line"><span class="params">                                 )</span>&#123;</span><br><span class="line">    Map&lt;String,Object&gt; map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    map.put(<span class="string">&quot;id&quot;</span>,id);</span><br><span class="line">    map.put(<span class="string">&quot;name&quot;</span>,name);</span><br><span class="line">	map.put(<span class="string">&quot;pv&quot;</span>,pv);</span><br><span class="line">    <span class="keyword">return</span> map;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>前端页面代码为</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/car/3/owner/lisi&quot;</span>&gt;</span>car/&#123;id&#125;/owner/&#123;username&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>输出结果为</p>
<p><img src="https://img.hasdsd.cn/imgimage-20221009223351798.png" alt="image-20221009223351798"></p>
<h4 id="RequestHeader-获取请求头"><a href="#RequestHeader-获取请求头" class="headerlink" title="@RequestHeader(获取请求头)"></a>@RequestHeader(获取请求头)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/car/&#123;id&#125;/owner/&#123;username&#125;&quot;)</span></span><br><span class="line"> <span class="keyword">public</span> Map&lt;String,Object&gt;  <span class="title function_">getCar</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Integer id,</span></span><br><span class="line"><span class="params">                                   <span class="meta">@PathVariable(&quot;username&quot;)</span> String name,</span></span><br><span class="line"><span class="params">                                   <span class="meta">@RequestHeader</span> Map&lt;String,String&gt; header,</span></span><br><span class="line"><span class="params">                                   <span class="meta">@RequestHeader</span> Map&lt;String,String&gt; rh,</span></span><br><span class="line"><span class="params">                                   <span class="meta">@RequestHeader(&quot;User-Agent&quot;)</span> String UserAgent//Use-Agent是请求头中的属性</span></span><br><span class="line"><span class="params">                                   )</span>&#123;</span><br><span class="line">     Map&lt;String,Object&gt; map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">     map.put(<span class="string">&quot;id&quot;</span>,id);</span><br><span class="line">     map.put(<span class="string">&quot;name&quot;</span>,name);</span><br><span class="line">     map.put(<span class="string">&quot;rh&quot;</span>,rh);</span><br><span class="line">     <span class="keyword">return</span> map;</span><br></pre></td></tr></table></figure>

<p>输出结果为</p>
<p><img src="https://img.hasdsd.cn/imgimage-20221009223941763.png" alt="image-20221009223941763"></p>
<h4 id="RequestParam-获取请求参数"><a href="#RequestParam-获取请求参数" class="headerlink" title="@RequestParam(获取请求参数)"></a>@RequestParam(获取请求参数)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">    <span class="meta">@GetMapping(&quot;/car/&#123;id&#125;/owner/&#123;username&#125;&quot;)</span></span><br><span class="line">     <span class="keyword">public</span> Map&lt;String,Object&gt;  <span class="title function_">getCar</span><span class="params">(</span></span><br><span class="line"><span class="params">//    <span class="meta">@PathVariable(&quot;id&quot;)</span> Integer id,</span></span><br><span class="line"><span class="params">//                                      <span class="meta">@PathVariable(&quot;username&quot;)</span> String name,</span></span><br><span class="line"><span class="params">//                                      <span class="meta">@RequestHeader</span> Map&lt;String,String&gt; header,</span></span><br><span class="line"><span class="params">//                                      <span class="meta">@RequestHeader</span> Map&lt;String,String&gt; rh,</span></span><br><span class="line"><span class="params">//                                      <span class="meta">@RequestHeader(&quot;User-Agent&quot;)</span> String UserAgent</span></span><br><span class="line"><span class="params">                                      <span class="meta">@RequestParam(&quot;age&quot;)</span> Integer age,</span></span><br><span class="line"><span class="params">                                      <span class="meta">@RequestParam(&quot;inters&quot;)</span> List&lt;String&gt; inters,</span></span><br><span class="line"><span class="params">                                      <span class="meta">@RequestParam</span> Map&lt;String,String&gt; rp</span></span><br><span class="line"><span class="params"></span></span><br><span class="line"><span class="params">                                      )</span>&#123;</span><br><span class="line">        Map&lt;String,Object&gt; map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"><span class="comment">//        map.put(&quot;id&quot;,id);</span></span><br><span class="line"><span class="comment">//        map.put(&quot;name&quot;,name);</span></span><br><span class="line"><span class="comment">//        map.put(&quot;rh&quot;,rh);</span></span><br><span class="line">        map.put(<span class="string">&quot;age&quot;</span>,age);</span><br><span class="line">        map.put(<span class="string">&quot;inters&quot;</span>,inters);</span><br><span class="line">        map.put(<span class="string">&quot;ParamMap&quot;</span>,rp);</span><br><span class="line">        <span class="keyword">return</span> map;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://img.hasdsd.cn/imgimage-20221009224248930.png" alt="image-20221009224248930"></p>
<p>@CookieValue(获取cookie值)</p>
<h4 id="RequestAttribute-获取request域属性-：、"><a href="#RequestAttribute-获取request域属性-：、" class="headerlink" title="@RequestAttribute(获取request域属性)：、"></a>@RequestAttribute(获取request域属性)：、</h4><p>本次举例为请求的转发，运用了两种方法，第一种转发request_msg是用传统的HttpServletRequest.getAttribute方法获取域值另一种方法是用注解的方法调用msg</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RequestController</span> &#123;</span><br><span class="line">    <span class="meta">@GetMapping(&quot;/goto&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">GoToPage</span><span class="params">(HttpServletRequest request)</span>&#123;</span><br><span class="line">        request.setAttribute(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;成功啦&quot;</span>);</span><br><span class="line">        request.setAttribute(<span class="string">&quot;code&quot;</span>,<span class="number">200</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;forward:/success&quot;</span>;<span class="comment">//转发到success请求</span></span><br><span class="line">&#125;</span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/success&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Map <span class="title function_">success</span><span class="params">(<span class="meta">@RequestAttribute</span> String msg,</span></span><br><span class="line"><span class="params">                       <span class="meta">@RequestAttribute</span> Integer code,</span></span><br><span class="line"><span class="params">                       HttpServletRequest request)</span>&#123;</span><br><span class="line">        <span class="type">Object</span> <span class="variable">msg1</span> <span class="operator">=</span> request.getAttribute(<span class="string">&quot;msg&quot;</span>);</span><br><span class="line">        Map&lt;String,Object&gt; map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">&quot;request_msg&quot;</span>,msg1);</span><br><span class="line">        map.put(<span class="string">&quot;annotation_msg&quot;</span>,msg);</span><br><span class="line">        <span class="keyword">return</span> map;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出结果为</p>
<p><img src="https://img.hasdsd.cn/imgimage-20221009231208558.png" alt="image-20221009231208558"></p>
<h4 id="RequestBody-获取请求体-：获取表单中的内容"><a href="#RequestBody-获取请求体-：获取表单中的内容" class="headerlink" title="@RequestBody(获取请求体)：获取表单中的内容"></a>@RequestBody(获取请求体)：获取表单中的内容</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/save&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Map <span class="title function_">postMethod</span><span class="params">(<span class="meta">@RequestBody</span> String content)</span>&#123;</span><br><span class="line">Map&lt;String,Object&gt; map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">map.put(<span class="string">&quot;content&quot;</span>,content);</span><br><span class="line"><span class="keyword">return</span> map;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>前端代码为</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/save&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    测试@RequestBody获取数据<span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">    用户名:<span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;userName&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    邮箱:<span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;email&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;提交&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>输出结果为<img src="https://img.hasdsd.cn/imgimage-20221009225537266.png" alt="image-20221009225537266"></p>
<h1 id="7、MybaitsPlus"><a href="#7、MybaitsPlus" class="headerlink" title="7、MybaitsPlus"></a>7、MybaitsPlus</h1><p>主要功能:代码生成器</p>
<p>​	</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.boot.common;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.FastAutoGenerator;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.config.OutputFile;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.engine.FreemarkerTemplateEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Generator</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        String localpath=<span class="string">&quot;D:/1575443749/java/&quot;</span>;</span><br><span class="line">        FastAutoGenerator.create(<span class="string">&quot;jdbc:mysql://localhost:3306/mybatis&quot;</span>, <span class="string">&quot;root&quot;</span>, <span class="string">&quot;root&quot;</span>)</span><br><span class="line">                .globalConfig(builder -&gt; &#123;</span><br><span class="line">                    builder.author(<span class="string">&quot;zhangfeng&quot;</span>) <span class="comment">// 设置作者</span></span><br><span class="line">                           <span class="comment">// .enableSwagger() // 开启 swagger 模式</span></span><br><span class="line">                            .fileOverride() <span class="comment">// 覆盖已生成文件</span></span><br><span class="line">                            .outputDir(localpath+<span class="string">&quot;demo12/src/main/java&quot;</span>); <span class="comment">// 指定输出目录</span></span><br><span class="line">                &#125;)</span><br><span class="line">                .packageConfig(builder -&gt; &#123;</span><br><span class="line">                    builder.parent(<span class="string">&quot;com.example&quot;</span>) <span class="comment">// 设置父包名</span></span><br><span class="line">                            .moduleName(<span class="string">&quot;boot&quot;</span>) <span class="comment">// 设置父包模块名</span></span><br><span class="line">                            .pathInfo(Collections.singletonMap(OutputFile.xml, localpath+<span class="string">&quot;demo12/src/main/resources/mapper&quot;</span>)); <span class="comment">// 设置mapperXml生成路径</span></span><br><span class="line">                &#125;)</span><br><span class="line">                .strategyConfig(builder -&gt; &#123;</span><br><span class="line">                    builder.addInclude(<span class="string">&quot;tb_user&quot;</span>) <span class="comment">// 设置需要生成的表名</span></span><br><span class="line">                            .addTablePrefix(<span class="string">&quot;tb_&quot;</span>); <span class="comment">// 设置过滤表前缀</span></span><br><span class="line">                &#125;)</span><br><span class="line">                .templateEngine(<span class="keyword">new</span> <span class="title class_">FreemarkerTemplateEngine</span>()) <span class="comment">// 使用Freemarker引擎模板，默认的是Velocity引擎模板</span></span><br><span class="line">                .execute();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="8、thymeleaf"><a href="#8、thymeleaf" class="headerlink" title="8、thymeleaf"></a>8、thymeleaf</h1><p>  Thymeleaf是适用于Web和独立环境的现代服务器端Java模板引擎</p>
<p>模板引擎（这里特指用于Web开发的模板引擎）是为了使用户界面与业务数据（内容）分离而产生的，它可以生成特定格式的文档，用于网站的模板引擎就会生成一个标准的html文档。从字面上理解模板引擎，最重要的就是模板二字，这个意思就是做好一个模板后套入对应位置的数据，最终以html的格式展示出来，这就是模板引擎的作用。<br>对于模板引擎的理解，可以这样形象的做一个类比：开会！ 相信你在上学初高中时候每次开会都要提前布置场地、拿小板凳、收拾场地。而你上了大学之后每次开会再也不去大操场了,每次开会都去学校的大会议室，桌子板凳音响主席台齐全，来个人即可，还可复用……。模板引擎的功能就类似我们的会议室开会一样开箱即用，将模板设计好之后直接填充数据即可而不需要重新设计整个页面。提高页面、代码的复用性。</p>
<p><img src="https://img-blog.csdnimg.cn/20200710110514492.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwNjkzMTcx,size_1,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h3 id="接表达式-…"><a href="#接表达式-…" class="headerlink" title="接表达式: @{…}"></a>接表达式: @{…}</h3><h3 id="变量表达式-…"><a href="#变量表达式-…" class="headerlink" title="变量表达式: ${…}"></a>变量表达式: ${…}</h3><p><strong>取List集合(each):</strong><br>因为List集合是个有序列表，里面内容可能不止一个，你需要遍历List对其中对象取值，而遍历需要用到标签：<code>th:each</code>,具体使用为<tr th:each="item:${userlist}"></p>
<p>Thymeleaf的另外一个强大功能：提取公共页面</p>
<p>将一些公共代码放入一个普通的HTML页面（common.html）</p>
<p>方法一：然后用div标签将公共代码嵌套，然后设置id&#x3D;XXX</p>
<p>引用时要时用div标签 th: replace| insert |  include </p>
<ul>
<li>th:insert ：保留自己的主标签，保留th:fragment的主标签。</li>
<li>th:replace ：不要自己的主标签，保留th:fragment的主标签。</li>
<li>th:include ：保留自己的主标签，不要th:fragment的主标签。</li>
</ul>
<p>举例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">footer</span> <span class="attr">class</span>=<span class="string">&quot;main-footer&quot;</span> <span class="attr">th:fragment</span>=<span class="string">&quot;footer&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">strong</span>&gt;</span>Copyright <span class="symbol">&amp;copy;</span> 2019-2020 <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.zhangligong.xyz/&quot;</span>&gt;</span>FishLeap<span class="tag">&lt;/<span class="name">a</span>&gt;</span>.<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">        All rights reserved. </span><br><span class="line">    <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在其它html页面中引入某html页面的fragment</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:insert</span>=<span class="string">&quot;footerbar :: footer&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:replace</span>=<span class="string">&quot;footerbar :: footer&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">th:include</span>=<span class="string">&quot;footerbar :: footer&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>结果为：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">footer</span> <span class="attr">class</span>=<span class="string">&quot;main-footer&quot;</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">strong</span>&gt;</span>Copyright <span class="symbol">&amp;copy;</span> 2019-2020 <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.zhangligong.xyz/&quot;</span>&gt;</span>FishLeap<span class="tag">&lt;/<span class="name">a</span>&gt;</span>.<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">        All rights reserved. </span><br><span class="line">    <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">footer</span> <span class="attr">class</span>=<span class="string">&quot;main-footer&quot;</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">strong</span>&gt;</span>Copyright <span class="symbol">&amp;copy;</span> 2019-2020 <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.zhangligong.xyz/&quot;</span>&gt;</span>FishLeap<span class="tag">&lt;/<span class="name">a</span>&gt;</span>.<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">        All rights reserved. </span><br><span class="line"><span class="tag">&lt;/<span class="name">footer</span>&gt;</span> </span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">strong</span>&gt;</span>Copyright <span class="symbol">&amp;copy;</span> 2019-2020 <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.zhangligong.xyz/&quot;</span>&gt;</span>FishLeap<span class="tag">&lt;/<span class="name">a</span>&gt;</span>.<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">        All rights reserved. </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="9、拦截器"><a href="#9、拦截器" class="headerlink" title="9、拦截器"></a>9、拦截器</h1><p>若使用拦截器首先要清楚拦截器的拦截位置：preHandle（目标方法执行前进行拦截），postHandle（目标方法执行后拦截），afterCompletion（页面渲染后拦截）</p>
<p>使用拦截器要实现HandlerInterceptor接口，重写其中的上述三个位置的方法 返回结果为 true就是放行 ，false就是拦截</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginInterceptor</span>  <span class="keyword">implements</span> <span class="title class_">HandlerInterceptor</span> &#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span></span><br><span class="line">        <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    <span class="comment">//目标方法方法执行前</span></span><br><span class="line">    <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> request.getSession();</span><br><span class="line">    <span class="type">Object</span> <span class="variable">loginUser</span> <span class="operator">=</span> session.getAttribute(<span class="string">&quot;LoginUser&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(loginUser!=<span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="comment">//放行</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">        <span class="comment">//拦截</span></span><br><span class="line">    request.setAttribute(<span class="string">&quot;msg&quot;</span>,<span class="string">&quot;请先登录&quot;</span>);</span><br><span class="line">    request.getRequestDispatcher(<span class="string">&quot;/&quot;</span>).forward(request,response);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后要进行对拦截器的配置：</p>
<p>首先要实现WebMvcConfigurer接口，其中接口中有方法添加拦截器addInterceptors(InterceptorRegistry registry)</p>
<p>InterceptorRegistry 为拦截器注册表其中有方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">adminWebConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> &#123;</span><br><span class="line">        registry.addInterceptor(<span class="keyword">new</span> <span class="title class_">LoginInterceptor</span>())<span class="comment">//添加拦截器</span></span><br><span class="line">                .addPathPatterns(<span class="string">&quot;/**&quot;</span>)<span class="comment">//拦截范围</span></span><br><span class="line">                .excludePathPatterns(<span class="string">&quot;/&quot;</span>,<span class="string">&quot;/login&quot;</span>,<span class="string">&quot;/css/**&quot;</span>,<span class="string">&quot;/fonts/**&quot;</span>,<span class="string">&quot;/js/**&quot;</span>,<span class="string">&quot;/images/**&quot;</span>);<span class="comment">//放行范围</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="10、javaweb的一些知识点回顾"><a href="#10、javaweb的一些知识点回顾" class="headerlink" title="10、javaweb的一些知识点回顾"></a>10、javaweb的一些知识点回顾</h1><h2 id="web开发中的四个域："><a href="#web开发中的四个域：" class="headerlink" title="web开发中的四个域："></a>web开发中的四个域：</h2><p>page,request,session,application</p>
<h2 id="生命周期：就是值对象的创建到销毁的期间。"><a href="#生命周期：就是值对象的创建到销毁的期间。" class="headerlink" title="生命周期：就是值对象的创建到销毁的期间。"></a>生命周期：就是值对象的创建到销毁的期间。</h2><p>page：jsp页面被执行，生命周期开始，jsp页面执行完毕，声明周期结束</p>
<p>request:用户发送一个请求，开始，服务器返回响应，请求结束，生命周期结束</p>
<p>session:用户打开浏览器访问，创建session(开始),session超时或被声明失效，该对象生命周期结束</p>
<p>application：web应用加载的时候创建。Web应用被移除或服务器关闭，对象销毁。</p>
<h2 id="四个域对象的选择标准"><a href="#四个域对象的选择标准" class="headerlink" title="四个域对象的选择标准"></a>四个域对象的选择标准</h2><p>page:数据只是暂时存在集合，在jsp页面的其他地方要用，用page(页面中自定义的map)</p>
<p>​     （什么时候需要用map了，就用page）</p>
<p>Request:数据只是做显示的，看完了就没用了。就存request域，请求转发，<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=Servlet&spm=1001.2101.3001.7020">Servlet</a>产生的处理结果（数据）交给jsp显示。  数据转发可以带数据。</p>
<p>Session：数据给用户看完了，一定还要用，会话结束了就没用了</p>
<p>​     用户登录，用户信息发给客户端看，看完了，一会访问别的页面还要看用户信息。</p>
<p>​     购物车，购物车成功了，给用户看购物车，待会随时间可以查看购物车</p>
<p>​     请求重定向，因为是两次请求，每一次请求的数据，第二次请求还要看。</p>
<p>application:数据给一个用户用完了，别人还要用</p>
<p>​     聊天室，聊天记录，需要给所有的用户看</p>
<p>​     统计网站在线人数，所有看到的应该是一个数</p>
<h2 id="请求转发和重定向（转发是服务器行为，重定向是客户端行为）"><a href="#请求转发和重定向（转发是服务器行为，重定向是客户端行为）" class="headerlink" title="请求转发和重定向（转发是服务器行为，重定向是客户端行为）"></a>请求转发和重定向（转发是服务器行为，重定向是客户端行为）</h2><p><img src="https://img.php.cn/upload/article/000/000/028/5c01f041e5917352.jpg" alt="Servlet生命周期"></p>
<p>如上图就是Servlet的生命周期</p>
<p>请求转发和重定向用通俗的方式来讲就是</p>
<p>假设你去办理某个执照，</p>
<p>重定向：你先去了A局，A局的人说：“这个事情不归我们管，去B局”，然后，你就从A退了出来，自己乘车去了B局。（访问了两次服务器，第一次访问A，第二次访问B，URL变化了）</p>
<p>转发：你先去了A局，A局看了以后，知道这个事情其实应该B局来管，但是他没有把你退回来，而是让你坐一会儿，自己到后面办公室联系了B的人，让他们办好后，送了过来。（访问了一次服务器，URL未变化）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//请求转发java代码示例</span></span><br><span class="line">request.getRequestDispatcher(<span class="string">&quot;xxx.jsp或者servlet&quot;</span>).forward(request,response)</span><br><span class="line"><span class="comment">//重定向Java代码示例</span></span><br><span class="line">response.sendRedirect(<span class="string">&quot;xxx.jsp或者servlet&quot;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="请求转发的特点"><a href="#请求转发的特点" class="headerlink" title="请求转发的特点"></a>请求转发的特点</h3><ul>
<li>地址栏不发生变化，显示的是上一个页面的地址</li>
<li>请求次数：只有1次请求</li>
<li>根目录：<a target="_blank" rel="noopener" href="http://localhost:8080/%E9%A1%B9%E7%9B%AE%E5%9C%B0%E5%9D%80/%EF%BC%8C%E5%8C%85%E5%90%AB%E4%BA%86%E9%A1%B9%E7%9B%AE%E7%9A%84%E8%AE%BF%E9%97%AE%E5%9C%B0%E5%9D%80">http://localhost:8080/项目地址/，包含了项目的访问地址</a></li>
<li>请求域中数据不会丢失</li>
</ul>
<p>请求重定向</p>
<ul>
<li>重定向，其实是两次request,<br>第一次，客户端request A,服务器响应，并response回来，告诉浏览器，你应该去B。这个时候IE可以看到地址变了，而且历史的回退按钮也亮了。重定向可以访问自己web应用以外的资源。在重定向的过程中，传输的信息会被丢失。</li>
</ul>
<h3 id="重定向的特点"><a href="#重定向的特点" class="headerlink" title="重定向的特点"></a>重定向的特点</h3><ul>
<li>址栏：显示新的地址</li>
<li>请求次数：2次</li>
<li>根目录：<a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080/</a> 没有项目的名字</li>
<li>请求域中的数据会丢失，因为是2次请求</li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/99935c92bc2c433e9408ced45bec7fa9.png" alt="在这里插入图片描述"></p>
<h1 id="11、文件上传（单文件和多文件上传的使用）"><a href="#11、文件上传（单文件和多文件上传的使用）" class="headerlink" title="11、文件上传（单文件和多文件上传的使用）"></a>11、文件上传（单文件和多文件上传的使用）</h1><p>前端html代码为：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">th:action</span>=<span class="string">&quot;@&#123;/upload&#125;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span><span class="comment">&lt;!--固定写法--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;exampleInputEmail1&quot;</span>&gt;</span>邮箱<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;email&quot;</span>  <span class="attr">name</span>=<span class="string">&quot;email&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">id</span>=<span class="string">&quot;exampleInputEmail1&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;Enter email&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;exampleInputPassword1&quot;</span>&gt;</span>名字<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">id</span>=<span class="string">&quot;exampleInputPassword1&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;Password&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;exampleInputFile&quot;</span>&gt;</span>头像<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">id</span>=<span class="string">&quot;exampleInputFile&quot;</span> <span class="attr">name</span>=<span class="string">&quot;headerImg&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Example block-level help text here.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;exampleInputFile&quot;</span>&gt;</span>生活照<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;photos&quot;</span> <span class="attr">multiple</span>&gt;</span><span class="comment">&lt;!--类型为file,添加多个文件--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span> Check me out</span><br><span class="line">        <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> </span><br></pre></td></tr></table></figure>



<p>对于文件的传输，我们选择的是method&#x3D;”post”方法，并且表单中属性ectype&#x3D;”multipart&#x2F;form-data”,这是我们的固定写法，在表单元素input标签中 的type&#x3D;“File”,</p>
<p>如果一个表单元素要传输多个文件则就在表单元素input标签最后加上 multiple</p>
<p>Controller层的代码为</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/upload&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">upload</span><span class="params">(<span class="meta">@RequestParam(&quot;email&quot;)</span> String email,</span></span><br><span class="line"><span class="params">                     <span class="meta">@RequestParam(&quot;username&quot;)</span> String username,</span></span><br><span class="line"><span class="params">                     <span class="meta">@RequestPart(&quot;headerImg&quot;)</span> MultipartFile headerImg,</span></span><br><span class="line"><span class="params">                    <span class="meta">@RequestPart(&quot;photos&quot;)</span> MultipartFile[] photos)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    <span class="keyword">if</span>(!headerImg.isEmpty())&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">originalFilename</span> <span class="operator">=</span> headerImg.getOriginalFilename();</span><br><span class="line">        headerImg.transferTo(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\cache\\&quot;</span>+originalFilename));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(photos.length&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span> (MultipartFile photo:photos)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!photo.isEmpty())&#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">originalFilename1</span> <span class="operator">=</span> photo.getOriginalFilename();</span><br><span class="line">                photo.transferTo(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\cache\\&quot;</span> + originalFilename1));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;main&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其中@RequestParty用在multipart&#x2F;form-data表单提交请求的方法上，支持的请求方法的方式MultipartFile，属于Spring的MultipartResolver类。这个请求是通过http协议传输的，@RequestPart适用于复杂的请求域（像JSON，XML）</p>
<p>MultipartFile类为复杂的文件类，倘若传递的是多个文件(multiple)则用MultipartFile[ ],MultipartFile中有一个方法为getOriginalFilename(),用于获取该文件的名称，</p>
<p>transferTO（File）,代表将文件加载到哪里</p>
<h1 id="12、错误处理"><a href="#12、错误处理" class="headerlink" title="12、错误处理"></a>12、错误处理</h1><h2 id="1、自定义处理页"><a href="#1、自定义处理页" class="headerlink" title="1、自定义处理页"></a>1、自定义处理页</h2><p>在静态资源的templates包下创建名称为error的包其中创建4xx.html 或5xx.html文件，出现4xx（例如401,400,402）异常时，就会返回页面4xx,html</p>
<h2 id="2、全局异常处理"><a href="#2、全局异常处理" class="headerlink" title="2、全局异常处理"></a>2、全局异常处理</h2><h2 id="ControllerAdvice-："><a href="#ControllerAdvice-：" class="headerlink" title="@ControllerAdvice ："></a>@ControllerAdvice ：</h2><p>首先，<code>ControllerAdvice</code>本质上是一个<code>Component</code>，因此也会被当成组建扫描，一视同仁，扫扫扫，说白了，就是aop思想的一种实现，你告诉我需要拦截规则，我帮你把他们拦下来，具体你想做更细致的拦截筛选和拦截之后的处理，你自己通过<code>@ExceptionHandler</code>、<code>@InitBinder</code> 或 <code>@ModelAttribute</code>这三个注解以及被其注解的方法来自定义。</p>
<p>我们主要用的是@ExceptionHandler来处理，@ExceptionHandler(IllegalArgumentException.class)，则表明此方法处理</p>
<p>IllegalArgumentException 类型的异常，如果参数为空，将默认为方法参数列表中列出的任何异常（方法抛出什么异常都接得住）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ControllerAdvice</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GlobalExceptionHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ExceptionHandler(&#123;ArithmeticException.class,NullPointerException.class&#125;)</span> <span class="comment">//异常处理器</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">handleArithException</span><span class="params">(Exception e)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;login&quot;</span>;<span class="comment">//视图地址</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="3、局部异常处理"><a href="#3、局部异常处理" class="headerlink" title="3、局部异常处理"></a>3、局部异常处理</h2><p>@ResponseStatus 有三个属性 value：Http状态码 如HttpStatus.FORBIDDEN的String类型 就是Http状态码403</p>
<p>​												 code：Http状态码</p>
<p>​												 reason：报告错误信息</p>
<p>若单独使用或搭配@ControllerAdvice使用会返回</p>
<p>UserToManyException类为</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ResponseStatus(value = HttpStatus.FORBIDDEN,reason = &quot;用户数量太多&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserToManyException</span> <span class="keyword">extends</span> <span class="title class_">RuntimeException</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UserToManyException</span><span class="params">(String message)</span>&#123;</span><br><span class="line">        <span class="built_in">super</span>(message);</span><br><span class="line">  &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UserToManyException</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>异常处理为</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/dynamic_table&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">dynamic_table</span><span class="params">(Model model)</span>&#123;</span><br><span class="line">    <span class="comment">//遍历表单内容</span></span><br><span class="line">    List&lt;User&gt; users = Arrays.asList(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;张三&quot;</span>, <span class="string">&quot;123456&quot;</span>),</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;李四&quot;</span>, <span class="string">&quot;123444&quot;</span>)</span><br><span class="line">            , <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;王五&quot;</span>, <span class="string">&quot;aaaa&quot;</span>),</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;老六&quot;</span>, <span class="string">&quot;66666&quot;</span>),</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;haha&quot;</span>, <span class="string">&quot;123456&quot;</span>));</span><br><span class="line">    model.addAttribute(<span class="string">&quot;users&quot;</span>,users);</span><br><span class="line">    <span class="keyword">if</span>(users.size()&gt;<span class="number">3</span>)&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">UserToManyException</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;table/dynamic_table&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当我们请求时会报错结果为：</p>
<p><img src="https://img.hasdsd.cn/imgimage-20221017213857019.png" alt="image-20221017213857019"></p>
<h2 id="4、自定义异常解析器"><a href="#4、自定义异常解析器" class="headerlink" title="4、自定义异常解析器"></a>4、自定义异常解析器</h2><p>我们创建一个异常解析器类CustomerHandlerExceptionResolver</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Order(value = Ordered.HIGHEST_PRECEDENCE)</span><span class="comment">//最高优先级，出现任何错误都是send中的Http状态码</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CustomerHandlerExceptionResolver</span> <span class="keyword">implements</span> <span class="title class_">HandlerExceptionResolver</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> ModelAndView <span class="title function_">resolveException</span><span class="params">(HttpServletRequest request,</span></span><br><span class="line"><span class="params">                                         HttpServletResponse response,</span></span><br><span class="line"><span class="params">                                         Object handler,</span></span><br><span class="line"><span class="params">                                         Exception ex)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            response.sendError(<span class="number">511</span>,<span class="string">&quot;这个错误真6&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">section</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container &quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;error-wrapper text-center&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">src</span>=<span class="string">&quot;/images/500-error.png&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>OOOPS!!!<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h3</span> <span class="attr">th:text</span>=<span class="string">&quot;$&#123;message&#125;&quot;</span>&gt;</span>Something went wrong.<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="comment">&lt;!--取出参数message,就是senderror中的&quot;这个错误真6&quot;--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;nrml-txt&quot;</span>&gt;</span>Why not try refreshing you page? Or you can <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>contact our support<span class="tag">&lt;/<span class="name">a</span>&gt;</span> if the problem persists.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;back-btn&quot;</span> <span class="attr">href</span>=<span class="string">&quot;../main.html&quot;</span>  <span class="attr">th:text</span>=<span class="string">&quot;$&#123;status&#125;&quot;</span>&gt;</span> Back To Home<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="comment">&lt;!--取出参数状态码--&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>结果为：<img src="https://img.hasdsd.cn/imgimage-20221017222632270.png" alt="image-20221017222632270"></p>
<h1 id="13、web原生组件注入（servlet、Filter、Listener）"><a href="#13、web原生组件注入（servlet、Filter、Listener）" class="headerlink" title="13、web原生组件注入（servlet、Filter、Listener）"></a>13、web原生组件注入（servlet、Filter、Listener）</h1><h2 id="1、使用ServletAPI"><a href="#1、使用ServletAPI" class="headerlink" title="1、使用ServletAPI"></a>1、使用ServletAPI</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ServletComponentScan(&quot;com.zhang.boot.servlet&quot;)</span><span class="comment">//指定原生类组件都放在哪里</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(urlPatterns = &quot;/my&quot;)</span><span class="comment">//效果：直接响应，没有经过拦截器</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebListener</span></span><br></pre></td></tr></table></figure>

<h2 id="2、使用RegistrationBean"><a href="#2、使用RegistrationBean" class="headerlink" title="2、使用RegistrationBean"></a>2、使用RegistrationBean</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ServletRegistrationBean</span><br><span class="line">FilterRegistrationBean</span><br><span class="line">ServletListenerRegistrationBean</span><br></pre></td></tr></table></figure>

<p>首先我们要编写我们自己的servlet、Filter、listener</p>
<p>然后</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration(proxyBeanMethods = false)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyRegistConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> ServletRegistrationBean <span class="title function_">myservlet</span><span class="params">()</span>&#123;</span><br><span class="line">        MyServlet myServlet=<span class="keyword">new</span> <span class="title class_">MyServlet</span>();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ServletRegistrationBean</span>(myServlet,<span class="string">&quot;/my&quot;</span>,<span class="string">&quot;/my2&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> FilterRegistrationBean <span class="title function_">myFilter</span><span class="params">()</span>&#123;</span><br><span class="line">        MyFilter myFilter=<span class="keyword">new</span> <span class="title class_">MyFilter</span>();</span><br><span class="line">        <span class="type">FilterRegistrationBean</span> <span class="variable">filterRegistrationBean</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FilterRegistrationBean</span>(myFilter);</span><br><span class="line">        filterRegistrationBean.setUrlPatterns(Arrays.asList(<span class="string">&quot;/my&quot;</span>,<span class="string">&quot;/css/*&quot;</span>));<span class="comment">//设置拦截路径</span></span><br><span class="line">        <span class="keyword">return</span> filterRegistrationBean;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> ServletListenerRegistrationBean <span class="title function_">myListener</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">WebListener</span> <span class="variable">webListener</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">WebListener</span>();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ServletListenerRegistrationBean</span>(webListener);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="14、定制化原理"><a href="#14、定制化原理" class="headerlink" title="14、定制化原理"></a>14、定制化原理</h1><h2 id="1、定制化常见方式"><a href="#1、定制化常见方式" class="headerlink" title="1、定制化常见方式"></a>1、定制化常见方式</h2><ul>
<li>修改配置文件</li>
<li>编写自定义配置类XXXConfiguration+@Bean、添加容器中的默认组件：视图解析器（例如：用RegistrationBean添加Web三大组件）</li>
<li>web应用实现WebMvcConfigurer即可定制化web功能，再加上@Bean给容器再扩展一些组件</li>
</ul>
<p>​		例如我们添加拦截器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">adminWebConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> &#123;</span><br><span class="line">        registry.addInterceptor(<span class="keyword">new</span> <span class="title class_">LoginInterceptor</span>())</span><br><span class="line">                .addPathPatterns(<span class="string">&quot;/**&quot;</span>)</span><br><span class="line">                .excludePathPatterns(<span class="string">&quot;/&quot;</span>,<span class="string">&quot;/login&quot;</span>,<span class="string">&quot;/css/**&quot;</span>,<span class="string">&quot;/fonts/**&quot;</span>,<span class="string">&quot;/js/**&quot;</span>,<span class="string">&quot;/images/**&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>@EnableWebMvc+WebMvcConfigurer——@Bean可以全面接管SpringMVC，所有规则全部自己重新配置；实现定制和拓展功能</li>
</ul>
<p>原理：</p>
<ol>
<li>WebMvcAutoConfiguration 默认的SpringMVC自动配置功能类。静态资源、欢迎页……</li>
<li>一旦使用@EnableWebMvc 会@Import（DelegatingWebMvcConfiguration.class）</li>
<li>DelegatingWebMvc的作用，只能保证SpringMVC 最基本的使用<ul>
<li>把所有系统中WebMvcConfigurer拿过来。所有功能的定制都是这些WebMvcConfigurer合起来一起生效</li>
<li>自动配置了一些非常底层的组件。RequestMappingHandlerMapping这些组件依赖的组件都在容器中获取</li>
</ul>
</li>
<li>WebMvcConfiguration里面的配置要能生效必须@（ConditionalOnMissingBean(“WebMvcConfigurationSupport.class”)）而DelegatingWebMvc继承了WebMvcConfigurationSupport</li>
<li>@EnableWebMvc导致了WebMvcConfiguration没有生效</li>
</ol>
<h1 id="15、数据访问"><a href="#15、数据访问" class="headerlink" title="15、数据访问"></a>15、数据访问</h1><h2 id="1、SQL"><a href="#1、SQL" class="headerlink" title="1、SQL"></a>1、SQL</h2><ol>
<li><h3 id="数据源的自动配置-hikarDataSource"><a href="#数据源的自动配置-hikarDataSource" class="headerlink" title="数据源的自动配置  -hikarDataSource"></a>数据源的自动配置  -hikarDataSource</h3><ol>
<li>JDBC场景</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://img.hasdsd.cn/imgimage-20221019153748665.png" alt="image-20221019153748665"></p>
</li>
</ol>
<p>没导入数据驱动？</p>
<p>因为不知道我们接下来要操作什么数据库</p>
<p>接下来导入数据库驱动</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">SpringBoot start中 默认的版本号为</span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.30<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>2、分析自动配置</p>
<ul>
<li>DataSourceAutoConfigur数据源自动配置<ul>
<li>若要修改数据库相关配置就要在配置文件中增加前缀“spring.datasource”</li>
<li>数据库连接池配置，是自己容器中没有DataSource才自动配置的</li>
<li>底层配置好的连接池是hikarDataSource</li>
</ul>
</li>
<li>DataSourceTransactionManagerAutoConfiguration 数据源事务管理自动配置</li>
<li>JdbcTemplateAutoConfiguration JDBCTemplate的自动配置，可以用来对数据库进行crud<ul>
<li>可以修改这个配置项@ConfigurationProperties(prefix&#x3D;”spring.jdbc”) 来修改 JdbcTemplate</li>
</ul>
</li>
<li>JndiDataSourceAutoConfiguration jndi自动配置</li>
<li>XADataSourceAutoConfiguration 分布式事务相关的</li>
</ul>
<p>3、修改配置项</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/mybatis</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">root</span></span><br></pre></td></tr></table></figure>

<h2 id="2、使用Druid数据源"><a href="#2、使用Druid数据源" class="headerlink" title="2、使用Druid数据源"></a>2、使用Druid数据源</h2><p>1、druid官方github地址</p>
<p>​	<a target="_blank" rel="noopener" href="http://github.com/alibaba/druid">http://github.com/alibaba/druid</a></p>
<h3 id="整合第三方技术两种方式"><a href="#整合第三方技术两种方式" class="headerlink" title="整合第三方技术两种方式"></a>整合第三方技术两种方式</h3><ul>
<li><h4 id="自定义"><a href="#自定义" class="headerlink" title="自定义"></a>自定义</h4><p>​	首先先创建数据源，数据源中的方法例如添加URL，UserName，Password等属性，但如果配置文件中有这些描述，那么就利用注解@ConfigurationProperties(“spring.datasource”)进行添加，若要使用监控功能，那么就用DruidDataSource().setFilters(“stat”)</p>
<p>再配置druid控制页功能，使用RegistrationBean注册statViewServletRegistrationBean随后传入新statViewServlet与&#x2F;druid&#x2F;* 访问路径</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyDataSourceConfig</span> &#123;</span><br><span class="line">    <span class="comment">//ConditionalOnMissBean(DataSource.class) 容器中没有DataSource才会配置默认配置Hikari数据源</span></span><br><span class="line">    <span class="meta">@ConfigurationProperties(&quot;spring.datasource&quot;)</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">DataSource</span><span class="params">()</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">        DruidDataSource druidDataSource=<span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">        <span class="comment">//加入监控功能</span></span><br><span class="line">        druidDataSource.setFilters(<span class="string">&quot;stat&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>  druidDataSource;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 配置druid监控页功能</span></span><br><span class="line"><span class="comment">     * **/</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> ServletRegistrationBean <span class="title function_">statViewServlet</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">StatViewServlet</span> <span class="variable">statViewServlet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StatViewServlet</span>();</span><br><span class="line">        ServletRegistrationBean&lt;StatViewServlet&gt; statViewServletRegistrationBean =</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">ServletRegistrationBean</span>&lt;&gt;(statViewServlet, <span class="string">&quot;/druid/*&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> statViewServletRegistrationBean;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Controller层代码为</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;/sql&quot;)</span></span><br><span class="line"><span class="keyword">public</span>  String <span class="title function_">QueryFromb</span><span class="params">()</span>&#123;</span><br><span class="line">    Long aLong=jdbcTemplate.queryForObject(<span class="string">&quot;select count(*) from tb_user&quot;</span>,<span class="type">long</span>.class);</span><br><span class="line">    <span class="keyword">return</span>  aLong.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://img.hasdsd.cn/imgimage-20221020015258515.png" alt="image-20221020015258515"></p>
<p>还可以向其中加入防火墙</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> FilterRegistrationBean <span class="title function_">webstatFilter</span><span class="params">()</span>&#123;</span><br><span class="line">    WebStatFilter webStatFilter=<span class="keyword">new</span> <span class="title class_">WebStatFilter</span>();</span><br><span class="line">    FilterRegistrationBean&lt;WebStatFilter&gt; filterFilterRegistrationBean =</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">FilterRegistrationBean</span>&lt;WebStatFilter&gt;(webStatFilter);</span><br><span class="line">        filterFilterRegistrationBean.setUrlPatterns(Arrays.asList(<span class="string">&quot;/*&quot;</span>));</span><br><span class="line">    filterFilterRegistrationBean.addInitParameter(<span class="string">&quot;exclusions&quot;</span>,<span class="string">&quot;*.js,*.jpg,*.gif,*.css,*.ico,/druid/,*.png&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span>  filterFilterRegistrationBean;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>再向数据源的setFilter方法中由原来的setFilter(“stat”)转为(“stat,wall”)</p>
<p>不仅如此，在监控页面中也能设置登录的账号密码</p>
<p>在监控器对象中调用</p>
<p><code>addInitParameter(&quot;loginUsername&quot;,&quot;admin&quot;) ，addInitParameter(&quot;loginPassword&quot;,&quot;123456&quot;)</code> </p>
<ul>
<li><h4 id="找starterxx"><a href="#找starterxx" class="headerlink" title="找starterxx"></a>找starterxx</h4><p>导入druid-starter</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.11<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>分析自动配置</p>
<ul>
<li><p>扩展配置项 spring.datasource.druid</p>
</li>
<li><p>&#96;&#96;&#96;java<br>@Import({DruidSpringAopConfiguration.class,&#x2F;&#x2F;监控springBean的 配置项spring.datasource.druid.aop-patterns<br>DruidStatViewServletConfiguration.class,&#x2F;&#x2F;监控页的配置都 配置项spring.datasource.druid.stat-view-servlet 默认开启<br>DruidWebStatFilterConfiguration.class,  &#x2F;&#x2F;web监控配置 Springspring.datasource.druid.web-stat-filter 默认开启<br>DruidFilterConfiguration.class}<br> private static final String FILTER_STAT_PREFIX &#x3D; “spring.datasource.druid.filter.stat”;<br>private static final String FILTER_CONFIG_PREFIX &#x3D; “spring.datasource.druid.filter.config”;<br>private static final String FILTER_ENCODING_PREFIX &#x3D; “spring.datasource.druid.filter.encoding”;<br>private static final String FILTER_SLF4J_PREFIX &#x3D; “spring.datasource.druid.filter.slf4j”;<br>private static final String FILTER_LOG4J_PREFIX &#x3D; “spring.datasource.druid.filter.log4j”;<br>private static final String FILTER_LOG4J2_PREFIX &#x3D; “spring.datasource.druid.filter.log4j2”;<br>private static final String FILTER_COMMONS_LOG_PREFIX &#x3D; “spring.datasource.druid.filter.commons-log”;<br>private static final String FILTER_WALL_PREFIX &#x3D; “spring.datasource.druid.filter.wall”;<br>private static final String FILTER_WALL_CONFIG_PREFIX &#x3D; “spring.datasource.druid.filter.wall.config”;<br>&#x2F;&#x2F;所有druid自己Filter配置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">```yaml</span><br><span class="line">spring: </span><br><span class="line"> datasource:</span><br><span class="line">     url: jdbc:mysql://localhost:3306/mybatis</span><br><span class="line">     username: root</span><br><span class="line">     password: root</span><br><span class="line">     driver-class-name: com.mysql.cj.jdbc.Driver</span><br><span class="line">     druid:</span><br><span class="line">       aop-patterns: com.zhang.boot.*   #监控哪些包下的spring</span><br><span class="line">       filters: stat,wall</span><br><span class="line"> #      开启多少个功能组件</span><br><span class="line">       stat-view-servlet: </span><br><span class="line">         enabled: true    #是否开启监控功能</span><br><span class="line">         login-username: admin  #登录druid页的用户名</span><br><span class="line">         login-password: 123456  #登录druid页的代码</span><br><span class="line">         reset-enable: false  #是否允许重置数据</span><br><span class="line">       filter:</span><br><span class="line">         stat:</span><br><span class="line">           slow-sql-millis: 1000 #超过1000ms的查询都是慢查询</span><br><span class="line">           log-slow-sql: true #是否开启慢查询日志</span><br><span class="line">           enabled: true #是否开启监听器</span><br><span class="line">         wall:</span><br><span class="line">           enabled: true #是否开启防火墙</span><br><span class="line">           config:</span><br><span class="line">             drop-table-allow: false  #不被允许产出表</span><br><span class="line"> </span><br><span class="line">       web-stat-filter:</span><br><span class="line">         enabled: true  #开启监听web的功能</span><br><span class="line">         url-pattern: /* #映射地址，所统计的web请求</span><br><span class="line">         exclusions: &quot;*.js,*.gif,*.jpg,*.png,*.css,*.ico,/druid/*&quot; #不统计的web请求</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h2 id="3、springboot整合mybatis"><a href="#3、springboot整合mybatis" class="headerlink" title="3、springboot整合mybatis"></a>3、springboot整合mybatis</h2><p>导入依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>mybatis-spring-boot-starter的包结构为</p>
<p><img src="https://img.hasdsd.cn/imgimage-20221020144501102.png" alt="image-20221020144501102"></p>
<h3 id="1、配置模式"><a href="#1、配置模式" class="headerlink" title="1、配置模式"></a>1、配置模式</h3><ul>
<li>全局配置文件</li>
<li>sqlsessionFactory【已经配置好了】</li>
</ul>
<p><img src="https://img.hasdsd.cn/imgimage-20221020145756572.png" alt="image-20221020145756572"></p>
<ul>
<li>SqlSession【配置好了SqlSessionTemplate】</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="meta">@ConditionalOnMissingBean</span></span><br><span class="line"><span class="keyword">public</span> SqlSessionTemplate <span class="title function_">sqlSessionTemplate</span><span class="params">(SqlSessionFactory sqlSessionFactory)</span> &#123;</span><br><span class="line">    <span class="type">ExecutorType</span> <span class="variable">executorType</span> <span class="operator">=</span> <span class="built_in">this</span>.properties.getExecutorType();</span><br><span class="line">    <span class="keyword">return</span> executorType != <span class="literal">null</span> ? <span class="keyword">new</span> <span class="title class_">SqlSessionTemplate</span>(sqlSessionFactory, executorType) : <span class="keyword">new</span> <span class="title class_">SqlSessionTemplate</span>(sqlSessionFactory);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Mapper【只要我们写的操作Mybatis的接口标注了Mapper接口就能被自动扫描进来 】</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@EnableConfigurationProperties(&#123;MybatisProperties.class&#125;)</span> Mybatis配置项绑定类</span><br><span class="line"><span class="meta">@AutoConfigureAfter(&#123;DataSourceAutoConfiguration.class, MybatisLanguageDriverAutoConfiguration.class&#125;)</span></span><br></pre></td></tr></table></figure>

<h2 id="2、整合Mybatis-plus"><a href="#2、整合Mybatis-plus" class="headerlink" title="2、整合Mybatis-plus"></a>2、整合Mybatis-plus</h2><p>导入依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>自动配置</p>
<ul>
<li>MybatisPlusAutoConfiguration 自动配置类   MybatisPlusProperties 配置项绑定  mybatis-plus ：XX 就是对Mybatis-plus的定制</li>
<li>SqlSessionFactory自动配置好</li>
<li>mapperLocations 自动配置好的。有默认值，classpath*:&#x2F;mapper&#x2F;**&#x2F;*.xml，任意路径的Mapper包下的任意路径的xml文件都是sql映射文件</li>
<li>容器中页自动配有SqlSessionTemplate</li>
<li>@Mapper标准接口也会被自动扫描，建议直接@MapperScan（”com.zhang.boot.mapper.CityMapper”） 批量扫描即可</li>
</ul>
<p>优点：</p>
<ul>
<li>只需要我们的Mapper继承BaseMapper就可以拥有crud能力</li>
</ul>
<p>Mybatis-Plus分页拦截器</p>
<p>首先我们创建一个MybatisConfig类把他注册到容器中，然后创建方法	</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MybatisConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MybatisPlusInterceptor <span class="title function_">mybatisPlusInterceptor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">MybatisPlusInterceptor</span> <span class="variable">mybatisPlusInterceptor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MybatisPlusInterceptor</span>();</span><br><span class="line">        <span class="comment">//分页拦截器</span></span><br><span class="line">        <span class="type">PaginationInnerInterceptor</span> <span class="variable">paginationInnerInterceptor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PaginationInnerInterceptor</span>();</span><br><span class="line">        <span class="comment">//设置请求的页面大于最大也后操作，true调回首页，flase继续请求 默认为false</span></span><br><span class="line">        paginationInnerInterceptor.setOverflow(<span class="literal">false</span>);</span><br><span class="line">        <span class="comment">//设置最大单页数量，默认为500条，-1为不受限制</span></span><br><span class="line">        paginationInnerInterceptor.setMaxLimit(-<span class="number">1L</span>);</span><br><span class="line">        mybatisPlusInterceptor.addInnerInterceptor(paginationInnerInterceptor);<span class="comment">//将分页拦截器加入MybatisPlus拦截器中</span></span><br><span class="line">        <span class="keyword">return</span> mybatisPlusInterceptor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://example.com">学不动学不懂学步冻</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2022/11/05/SpringBoot/">http://example.com/2022/11/05/SpringBoot/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">MyBlog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://img.hasdsd.cn/imgQQ截图20230307190709.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/12/15/Redis/" title="redis"><img class="cover" src="https://img.hasdsd.cn/imgredis.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">redis</div></div></a></div><div class="next-post pull-right"><a href="/2022/11/05/Vue/" title="Vue"><img class="cover" src="https://img.hasdsd.cn/imgvue.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Vue</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://avatars.githubusercontent.com/u/118332734?v=4" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">学不动学不懂学步冻</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">14</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/zzzzzf2001"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/zzzzzf2001" target="_blank" title=""><i class="fab fa-github"></i></a><a class="social-icon" href="/zzzzzf011129@163.com" target="_blank" title=""><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">我们该怎样道别呢？向我们当初见面那样？</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#SpringBoot"><span class="toc-number">1.</span> <span class="toc-text">SpringBoot</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%83%8C%E6%99%AF%E5%BA%94%E7%94%A8%EF%BC%9A"><span class="toc-number">2.</span> <span class="toc-text">背景应用：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SpringBoot2%E5%85%A5%E9%97%A8"><span class="toc-number">3.</span> <span class="toc-text">SpringBoot2入门</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81SpringBoot%E7%9A%84Maven%E4%BE%9D%E8%B5%96%E7%AE%A1%E7%90%86"><span class="toc-number">3.1.</span> <span class="toc-text">1、SpringBoot的Maven依赖管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81SpringBoot%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE"><span class="toc-number">3.2.</span> <span class="toc-text">2、SpringBoot自动配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81SpringBoot%E5%AE%B9%E5%99%A8%E5%8A%9F%E8%83%BD"><span class="toc-number">3.3.</span> <span class="toc-text">3、SpringBoot容器功能</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%95%E5%B1%82%E7%9A%84%E6%B3%A8%E8%A7%A3%EF%BC%9A"><span class="toc-number">3.3.1.</span> <span class="toc-text">底层的注解：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81-SpringBootApplication"><span class="toc-number">3.4.</span> <span class="toc-text">4、@SpringBootApplication</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%EF%BC%9A"><span class="toc-number">3.4.1.</span> <span class="toc-text">总结：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5%E3%80%81yaml"><span class="toc-number">3.5.</span> <span class="toc-text">5、yaml</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%B1%BB-%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF"><span class="toc-number">3.5.1.</span> <span class="toc-text">分类 编程技术</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">3.5.2.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#YAML-%E6%95%B0%E7%BB%84"><span class="toc-number">3.5.3.</span> <span class="toc-text">YAML 数组</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6%E3%80%81web%E5%BC%80%E5%8F%91"><span class="toc-number">3.6.</span> <span class="toc-text">6、web开发</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E8%A7%84%E5%88%99%E4%B8%8E%E5%AE%9A%E5%88%B6%E5%8C%96"><span class="toc-number">3.6.1.</span> <span class="toc-text">静态规则与定制化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AC%A2%E8%BF%8E%E9%A1%B5%E6%94%AF%E6%8C%81"><span class="toc-number">3.6.2.</span> <span class="toc-text">欢迎页支持</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86"><span class="toc-number">3.6.3.</span> <span class="toc-text">静态资源配置管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%E5%A4%84%E7%90%86"><span class="toc-number">3.6.4.</span> <span class="toc-text">请求参数处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E6%98%A0%E5%B0%84%E5%8E%9F%E7%90%86"><span class="toc-number">3.6.5.</span> <span class="toc-text">请求映射原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%8F%82%E6%95%B0%E6%B3%A8%E8%A7%A3%E4%BD%BF%E7%94%A8"><span class="toc-number">3.6.6.</span> <span class="toc-text">常用参数注解使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#PathVariable-%E8%B7%AF%E5%BE%84%E5%8F%98%E9%87%8F"><span class="toc-number">3.6.6.1.</span> <span class="toc-text">@PathVariable(路径变量)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RequestHeader-%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E5%A4%B4"><span class="toc-number">3.6.6.2.</span> <span class="toc-text">@RequestHeader(获取请求头)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RequestParam-%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0"><span class="toc-number">3.6.6.3.</span> <span class="toc-text">@RequestParam(获取请求参数)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RequestAttribute-%E8%8E%B7%E5%8F%96request%E5%9F%9F%E5%B1%9E%E6%80%A7-%EF%BC%9A%E3%80%81"><span class="toc-number">3.6.6.4.</span> <span class="toc-text">@RequestAttribute(获取request域属性)：、</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RequestBody-%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E4%BD%93-%EF%BC%9A%E8%8E%B7%E5%8F%96%E8%A1%A8%E5%8D%95%E4%B8%AD%E7%9A%84%E5%86%85%E5%AE%B9"><span class="toc-number">3.6.6.5.</span> <span class="toc-text">@RequestBody(获取请求体)：获取表单中的内容</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7%E3%80%81MybaitsPlus"><span class="toc-number">4.</span> <span class="toc-text">7、MybaitsPlus</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8%E3%80%81thymeleaf"><span class="toc-number">5.</span> <span class="toc-text">8、thymeleaf</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E8%A1%A8%E8%BE%BE%E5%BC%8F-%E2%80%A6"><span class="toc-number">5.0.1.</span> <span class="toc-text">接表达式: @{…}</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E8%A1%A8%E8%BE%BE%E5%BC%8F-%E2%80%A6"><span class="toc-number">5.0.2.</span> <span class="toc-text">变量表达式: ${…}</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#9%E3%80%81%E6%8B%A6%E6%88%AA%E5%99%A8"><span class="toc-number">6.</span> <span class="toc-text">9、拦截器</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#10%E3%80%81javaweb%E7%9A%84%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AF%86%E7%82%B9%E5%9B%9E%E9%A1%BE"><span class="toc-number">7.</span> <span class="toc-text">10、javaweb的一些知识点回顾</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#web%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E5%9B%9B%E4%B8%AA%E5%9F%9F%EF%BC%9A"><span class="toc-number">7.1.</span> <span class="toc-text">web开发中的四个域：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%EF%BC%9A%E5%B0%B1%E6%98%AF%E5%80%BC%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E5%88%B0%E9%94%80%E6%AF%81%E7%9A%84%E6%9C%9F%E9%97%B4%E3%80%82"><span class="toc-number">7.2.</span> <span class="toc-text">生命周期：就是值对象的创建到销毁的期间。</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E4%B8%AA%E5%9F%9F%E5%AF%B9%E8%B1%A1%E7%9A%84%E9%80%89%E6%8B%A9%E6%A0%87%E5%87%86"><span class="toc-number">7.3.</span> <span class="toc-text">四个域对象的选择标准</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91%E5%92%8C%E9%87%8D%E5%AE%9A%E5%90%91%EF%BC%88%E8%BD%AC%E5%8F%91%E6%98%AF%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%A1%8C%E4%B8%BA%EF%BC%8C%E9%87%8D%E5%AE%9A%E5%90%91%E6%98%AF%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%A1%8C%E4%B8%BA%EF%BC%89"><span class="toc-number">7.4.</span> <span class="toc-text">请求转发和重定向（转发是服务器行为，重定向是客户端行为）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E8%BD%AC%E5%8F%91%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">7.4.1.</span> <span class="toc-text">请求转发的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">7.4.2.</span> <span class="toc-text">重定向的特点</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#11%E3%80%81%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%EF%BC%88%E5%8D%95%E6%96%87%E4%BB%B6%E5%92%8C%E5%A4%9A%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E7%9A%84%E4%BD%BF%E7%94%A8%EF%BC%89"><span class="toc-number">8.</span> <span class="toc-text">11、文件上传（单文件和多文件上传的使用）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#12%E3%80%81%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86"><span class="toc-number">9.</span> <span class="toc-text">12、错误处理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E5%A4%84%E7%90%86%E9%A1%B5"><span class="toc-number">9.1.</span> <span class="toc-text">1、自定义处理页</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="toc-number">9.2.</span> <span class="toc-text">2、全局异常处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ControllerAdvice-%EF%BC%9A"><span class="toc-number">9.3.</span> <span class="toc-text">@ControllerAdvice ：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81%E5%B1%80%E9%83%A8%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="toc-number">9.4.</span> <span class="toc-text">3、局部异常处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8%E8%A7%A3%E6%9E%90%E5%99%A8"><span class="toc-number">9.5.</span> <span class="toc-text">4、自定义异常解析器</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#13%E3%80%81web%E5%8E%9F%E7%94%9F%E7%BB%84%E4%BB%B6%E6%B3%A8%E5%85%A5%EF%BC%88servlet%E3%80%81Filter%E3%80%81Listener%EF%BC%89"><span class="toc-number">10.</span> <span class="toc-text">13、web原生组件注入（servlet、Filter、Listener）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E4%BD%BF%E7%94%A8ServletAPI"><span class="toc-number">10.1.</span> <span class="toc-text">1、使用ServletAPI</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E4%BD%BF%E7%94%A8RegistrationBean"><span class="toc-number">10.2.</span> <span class="toc-text">2、使用RegistrationBean</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#14%E3%80%81%E5%AE%9A%E5%88%B6%E5%8C%96%E5%8E%9F%E7%90%86"><span class="toc-number">11.</span> <span class="toc-text">14、定制化原理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E5%AE%9A%E5%88%B6%E5%8C%96%E5%B8%B8%E8%A7%81%E6%96%B9%E5%BC%8F"><span class="toc-number">11.1.</span> <span class="toc-text">1、定制化常见方式</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#15%E3%80%81%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE"><span class="toc-number">12.</span> <span class="toc-text">15、数据访问</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81SQL"><span class="toc-number">12.1.</span> <span class="toc-text">1、SQL</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%BA%90%E7%9A%84%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE-hikarDataSource"><span class="toc-number">12.1.1.</span> <span class="toc-text">数据源的自动配置  -hikarDataSource</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E4%BD%BF%E7%94%A8Druid%E6%95%B0%E6%8D%AE%E6%BA%90"><span class="toc-number">12.2.</span> <span class="toc-text">2、使用Druid数据源</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B4%E5%90%88%E7%AC%AC%E4%B8%89%E6%96%B9%E6%8A%80%E6%9C%AF%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">12.2.1.</span> <span class="toc-text">整合第三方技术两种方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89"><span class="toc-number">12.2.1.1.</span> <span class="toc-text">自定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%BEstarterxx"><span class="toc-number">12.2.1.2.</span> <span class="toc-text">找starterxx</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81springboot%E6%95%B4%E5%90%88mybatis"><span class="toc-number">12.3.</span> <span class="toc-text">3、springboot整合mybatis</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E9%85%8D%E7%BD%AE%E6%A8%A1%E5%BC%8F"><span class="toc-number">12.3.1.</span> <span class="toc-text">1、配置模式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E6%95%B4%E5%90%88Mybatis-plus"><span class="toc-number">12.4.</span> <span class="toc-text">2、整合Mybatis-plus</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/03/21/SpringCloudAlibaba/" title="SpringCloudAlibaba"><img src="https://img.hasdsd.cn/imgSprinigcloudAlibaba.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="SpringCloudAlibaba"/></a><div class="content"><a class="title" href="/2023/03/21/SpringCloudAlibaba/" title="SpringCloudAlibaba">SpringCloudAlibaba</a><time datetime="2023-03-20T16:00:00.000Z" title="发表于 2023-03-21 00:00:00">2023-03-21</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/03/15/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/" title="无题">无题</a><time datetime="2023-03-15T08:26:55.700Z" title="发表于 2023-03-15 16:26:55">2023-03-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/03/14/RabbitMQ/" title="RabbitMQ"><img src="https://img.hasdsd.cn/imgRabbitMQ.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="RabbitMQ"/></a><div class="content"><a class="title" href="/2023/03/14/RabbitMQ/" title="RabbitMQ">RabbitMQ</a><time datetime="2023-03-13T16:00:00.000Z" title="发表于 2023-03-14 00:00:00">2023-03-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/03/12/Git/" title="Git"><img src="https://img.hasdsd.cn/imggit.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Git"/></a><div class="content"><a class="title" href="/2023/03/12/Git/" title="Git">Git</a><time datetime="2023-03-11T16:00:00.000Z" title="发表于 2023-03-12 00:00:00">2023-03-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/03/08/zookeeper/" title="Zookeeper"><img src="https://img.hasdsd.cn/imgzookeeper.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Zookeeper"/></a><div class="content"><a class="title" href="/2023/03/08/zookeeper/" title="Zookeeper">Zookeeper</a><time datetime="2023-03-07T16:00:00.000Z" title="发表于 2023-03-08 00:00:00">2023-03-08</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By 学不动学不懂学步冻</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>